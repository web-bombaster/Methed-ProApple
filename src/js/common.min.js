$(document).ready(function() {

	// Инициализация слайдеров
	// http://kenwheeler.github.io/slick/

//Слайдер в шапке сайта
$('.bigslider').slick({
	autoplay: true,
	autoplaySpeed: 5000,
	speed: 1500,
	// adaptiveHeight: false,
	pauseOnHover: false,
	infinite: true,
	slidesToShow: 1,
	slidesToScroll: 1,
	fade: true,
	cssEase: 'ease-in-out',
	dots: false
});

//Слайдер для кейсов
$('.goods__box').slick({
	arrows: true,
	dots: false.valueOf,
	slidesToShow: 3,
	slidesToScroll: 1,
	// rows: 2,
	// slidesPerRow: 3,
	adaptiveHeight: true,
	responsive: [
		{
			breakpoint: 1024,
			settings: {
				slidesToShow: 2,
			}
		},
		{
			breakpoint: 600,
			settings: {
				slidesToShow: 1,
			}
		}
		// You can unslick at a given breakpoint now by adding:
		// settings: "unslick"
		// instead of a settings object
	]
});

// $('.btn-next').on('click', function() {
// 	$('.gallery').slick('slickNext');
// });
// $('.btn-prev').on('click', function() {
// 	$('.gallery').slick('slickPrev');
// });

//Слайдер видео
// $('.portfolio-slider').slick({
//     pauseOnHover: true,
//     autoplay: true,
//     autoplaySpeed: 4000,
//     adaptiveHeight: true,
// 	infinite: true,
// 	slidesToShow: 1,
// 	slidesToScroll: 1,
// 	fade: true,
// 	dots: false
// });

//Слайдер фото в два ряда
// $('.portfolio-slider-photo').slick({
// 	infinite: true,
// 	slidesToShow: 1,
// 	rows: 2,
// 	slidesPerRow: 4,
// 	autoplay: true,
// 	autoplaySpeed: 4000,
// 	fade: true,
// 	dots: false,
// 	responsive: [
// 		{
// 			breakpoint: 1200,
// 			settings: {
// 				slidesPerRow: 4
// 			}
// 		},
// 		{
// 			breakpoint: 700,
// 			settings: {
// 				slidesPerRow: 2
// 			}
// 		},
// 		{
// 			breakpoint: 500,
// 			settings: {
// 				slidesPerRow: 2
// 			}
// 		}
// 		// You can unslick at a given breakpoint now by adding:
// 		// settings: "unslick"
// 		// instead of a settings object
// 	]
// });

//Слайдер circle3 - кружки три в ряд
// $('.circle3-slider').slick({
// 	infinite: true,
// 	slidesToShow: 3,
// 	autoplay: true,
// 	autoplaySpeed: 4000,
// 	// fade: true,
// 	// dots: false,
// 	slidesToScroll: 1,
// 	responsive: [
// 		{
// 		breakpoint: 1200,
// 		settings: {
// 			slidesToShow: 3
// 		}
// 		},
// 		{
// 		breakpoint: 650,
// 		settings: {
// 			slidesToShow: 2
// 		}
// 		},
// 		{
// 		breakpoint: 400,
// 		settings: {
// 			slidesToShow: 1
// 		}
// 		}
// 		// You can unslick at a given breakpoint now by adding:
// 		// settings: "unslick"
// 		// instead of a settings object
// 	]
// });

//Слайдер партнеры
// $('.partners-wrapper').slick({
// 	infinite: true,
// 	slidesToShow: 5,
// 	autoplay: true,
// 	autoplaySpeed: 4000000,
// 	centerMode: true,
// 	variableWidth: true,
// 	// fade: true,
// 	// dots: false,
// 	slidesToScroll: 1,
// 	responsive: [
// 		{
// 		breakpoint: 1200,
// 		settings: {
// 			slidesToShow: 3
// 		}
// 		},
// 		{
// 		breakpoint: 650,
// 		settings: {
// 			slidesToShow: 2
// 		}
// 		},
// 		{
// 		breakpoint: 400,
// 		settings: {
// 			slidesToShow: 1
// 		}
// 		}
// 		// You can unslick at a given breakpoint now by adding:
// 		// settings: "unslick"
// 		// instead of a settings object
// 	]
// });

//Слайдер отзывы
// $('.otzyvy-slider').slick({
// 	//dots: true,
// 	//autoplay: true,
// 	//autoplaySpeed: 4000,
// 	adaptiveHeight: true,
// 	infinite: true,
// 	slidesToShow: 1,
// 	slidesToScroll: 1,
// 	fade: false,
// 	dots: false
// });
// Простые модальные окна
	const btnModal = document.querySelectorAll('.sj-modal'); // кнопки для вызова модалок
const body = document.querySelector('body'); // необходима для запрета скролла при открытом модальном окне
const overlay = document.querySelector('.overlay'); // подложка ждя модалок
const modalCloseBtn = document.querySelector('.modal__close-btn'); // кнопка закрытия модального окна
const modal = document.querySelector('.modal'); // кнопка закрытия модального окна


// По клику на кнопку вызова мольного окна .sj-modal
// в dataPath считываем у кнопки data-path отрибут => form-popup
// записываем в modal нужную модалку, у которой data-target равен dataPath
// переключаем класс toggle для модального окна, оверлея и body
btnModal.forEach(element => {
    element.addEventListener("click", function () {
        const dataPath = this.getAttribute('data-path');
        const modal = document.querySelector(`[data-target="${dataPath}"]`);

        modal.classList.add('toggle');
        body.classList.toggle('toggle');
        overlay.classList.toggle('toggle');
    });
});

// Функция для скрытия модалки
function modalClose() {
    body.classList.toggle('toggle');
    overlay.classList.toggle('toggle');
    const modal = document.querySelector('.modal.toggle');
    modal.classList.toggle('toggle');
}

// Скрыть модалку по кнопке modalCloseBtn
modalCloseBtn.addEventListener("click", modalClose);

// Скрыть модалку по щелчку вне модального окна
modal.addEventListener("click", function (e) {
    if (e.target == modal) {
        modalClose();
    }
});// плавная прокрутка на jq
	// плавная прокрутка на jq
$('a[href*="#"]').on("click", function (e) {
    let headerHeight = document.querySelector('.header').offsetHeight;
    e.preventDefault();
    let anchor = $(this).attr('href');
    $('html, body').stop().animate({
        scrollTop: $(anchor).offset().top - headerHeight
    }, 800);
});// Выпадашка со странами
	const btnOption = document.querySelector('.country__option'); // кнопка для вызова списка стран
const wrapperCountry = document.querySelector('.country__wrapper'); // враппер со списком стран
const btnCountry = document.querySelectorAll('.country__btn'); // враппер со списком стран




// Функция для переключения выпадашки
function wrapperCountryToggle() {
    wrapperCountry.classList.toggle('toggle');
}

// Скрыть выпадашку по клику на btnOption
btnOption.addEventListener("click", wrapperCountryToggle);

// Скрыть выпадашку по клику на страну
// btnCountry.forEach( function (element) {
//     element.addEventListener("click", function () {
//         wrapperCountryToggle();
//     });
// });

// Скрыть выпадашку по клику на страну - еще один способ
wrapperCountry.addEventListener("click", function (e) {
    if (e.target.classList.contains('country__btn')) {
        wrapperCountryToggle();
        // showPrice(target.dataset.currency);
    }
});

// Цены
	// -include './../js/myscripts/price.js'

});

// Инициализация кастомного скролла
new SimpleBar(document.querySelector('.country__list'), {
    classNames: {
        scrollbar: 'country__scrollbar',
        track: 'country__track'
    }
});

// Array.prototype.forEach.call(
//     document.querySelectorAll('.country__list'),
//     el => new SimpleBar()
// );